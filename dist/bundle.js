(()=>{"use strict";var t,a,e={89:(t,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParachutistGameModel=void 0;var e=function(){function t(t){this.parachutists=[],this.canvas=t,this.boatX=this.canvas.width/2-50,this.seaHeight=100,this.boatY=this.canvas.height-this.seaHeight,this.score=0,this.lives=3,this.airplaneX=this.canvas.width,this.airplaneY=50,this.airplaneSpeed=2}return t.prototype.addParachutist=function(t){var a={x:this.airplaneX,y:this.airplaneY+100,image:t};this.parachutists.push(a)},t.prototype.updateParachutists=function(){var t=this;this.parachutists.forEach((function(a,e){a.y+=2,a.y>t.canvas.height-t.seaHeight?(t.parachutists.splice(e,1),t.lives--):a.y+40>t.boatY&&a.x>t.boatX&&a.x<t.boatX+100&&(t.parachutists.splice(e,1),t.score+=10)}))},t.prototype.updateAirplane=function(){this.airplaneX-=this.airplaneSpeed,this.airplaneX<-150&&(this.airplaneX=this.canvas.width)},t}();a.ParachutistGameModel=e},319:(t,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParachutistGameView=void 0;var e=function(){function t(t,a){this.images={},this.ctx=t,this.model=a,this.loadImages()}return t.prototype.loadImages=function(){var t=this,a={background:"background.jpg",sea:"sea.jpg",boat:"boat.jpg",airplane:"plane.jpg",parachutist:"parachutist.jpg"},e=0,i=Object.keys(a).length,s=function(s){if(a.hasOwnProperty(s)){var r=new Image;r.src=a[s],r.onload=function(){++e===i&&t.startGame()},r.onerror=function(){console.error("Failed to load image: ".concat(a[s]))},o.images[s]=r}},o=this;for(var r in a)s(r)},t.prototype.startGame=function(){var t=this;setInterval((function(){return t.model.addParachutist(t.images.parachutist)}),2e3),this.draw()},t.prototype.draw=function(){var t=this;this.ctx.clearRect(0,0,this.model.canvas.width,this.model.canvas.height),this.ctx.drawImage(this.images.background,0,0,this.model.canvas.width,this.model.canvas.height),this.ctx.drawImage(this.images.sea,0,this.model.canvas.height-this.model.seaHeight,this.model.canvas.width,this.model.seaHeight),this.ctx.drawImage(this.images.boat,this.model.boatX,this.model.boatY,100,50),this.ctx.drawImage(this.images.airplane,this.model.airplaneX,this.model.airplaneY,150,100),this.drawParachutists(),this.model.updateParachutists(),this.model.updateAirplane(),this.updateScoreDisplay(),this.updateLivesDisplay(),requestAnimationFrame((function(){return t.draw()}))},t.prototype.drawParachutists=function(){var t=this;this.model.parachutists.forEach((function(a){t.ctx.drawImage(a.image,a.x,a.y,40,40)}))},t.prototype.updateScoreDisplay=function(){var t=document.getElementById("score");t&&(t.innerText="Score: ".concat(this.model.score))},t.prototype.updateLivesDisplay=function(){var t=document.getElementById("lives");t&&(t.innerText="Lives: ".concat(this.model.lives))},t}();a.ParachutistGameView=e}},i={};function s(t){var a=i[t];if(void 0!==a)return a.exports;var o=i[t]={exports:{}};return e[t](o,o.exports,s),o.exports}t=s(89),a=s(319),new(function(){function e(e){this.model=new t.ParachutistGameModel(e);var i=e.getContext("2d");this.view=new a.ParachutistGameView(i,this.model),this.addEventListeners()}return e.prototype.addEventListeners=function(){var t=this;document.addEventListener("keydown",(function(a){"ArrowLeft"===a.key&&t.model.boatX>0?t.model.boatX-=20:"ArrowRight"===a.key&&t.model.boatX<t.model.canvas.width-100&&(t.model.boatX+=20)}))},e}())(document.getElementById("gameCanvas"))})();
